@include critical {
    body {
        margin: 0;
        padding: 0;
    }
    article {
        @extend %flex,
            %flex--align-center,
            %flex--justify-flex-start,
            %flex--column;
        width: 100vw;
        max-width: 100%;
        overflow: hidden;

        main {
            @include rem-dimensions(main);
        }

        @include desktop-only {
            header,
            main,
            footer {
                width: map-get($max-width, desktop);
                max-width: 99%;
            }    
        }
        @include mobile-only {
            header,
            main,
            footer {
                width: map-get($max-width, mobile);
                overflow-x: hidden;
            }
        }    
    }
}

@include non-critical {
    .background {
        @include position-fixed($top: $menu-height, $right: 0, $bottom: 0, $z-index: -1);
        height: auto;
        width: 100vw;
        overflow: hidden;
        &:before {
            content: '';
            @include position-absolute($bottom: 0, $left: 0);
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(to bottom, var(--color-background), transparent 50%, var(--color-background-secondary)),
                linear-gradient(to right, var(--color-background), transparent 75%, var(--color-background-secondary));
        }
    }

    footer {
        @include margin-top(3);
        @include padding-y(2);
        position: relative;
        &:before {
            @include position-absolute($top: -1rem, $left: 0, $right: 4 * $col-width, $z-index: 0);
            content: '';
            height: 3rem;
            width: auto;
            background-color: var(--color-dark-teal);
        }
    }

    body.sticky-header,
    body.showing-menu {
        .header {
            @include position-fixed($top: 0, $left: 50%, $z-index: $z-index-menu);
            @include margin(0);
            background-color: var(--color-background);
            transform: translateX(-50%);
            transition: background-color .5s;

            &:after {
                width: 100%;
            }

            @include mobile-only {
                left: 0;
                transform: none;
            }
        }
    }
    body.showing-menu,
    body.showing-details {
        overflow: hidden;
    }

    body.sticky-header {
        main {
            @include rem-dimensions(main-sticky);
        }
    }
    body.showing-menu {
        main {
            @include rem-dimensions(main-showing-menu);
        }
    }
    article {
        &.show-grid {
            background:
                linear-gradient(to bottom, var(--color-primary), transparent 2px) 0 0 / 100% 2rem repeat-y,
                linear-gradient(to bottom, var(--color-secondary), transparent 1px) 0 1rem / 100% 2rem repeat-y,
                #666;    
        }
    }
}