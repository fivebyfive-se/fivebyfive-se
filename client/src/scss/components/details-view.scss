@include critical {
    .details-view__details {
        display: none;
    }
}

@include non-critical {
    .details-view {
        @extend %flex,
            %flex--justify-flex-start;
        @include position-fixed($top: 0, $left: 0, $z-index: $z-index-top);

        $self: &;

        width: 100vw;
        height: 100vh;

        transform: translateY(100%);
        
        opacity: 0;
        transition: all .3s;
            
        background-color: var(--color-background-overlay);
        color: var(--color-text);


        @include desktop-only {
            &__text, &__image {
                height: 100vh;
                max-height: 100vh;
                flex-grow: 0;
            }
            &__text {
                width: 40vw;
                max-width: 40vw;
                flex-basis: 40%;
            }
            &__image {
                width: 60vw;
                max-width: 60vw;
                flex-basis: 60%;
            }
        }
        @include mobile-only {
            flex-direction: column;
            &__text, &__image {
                width: 100vw;
                max-width: 100vw;
            }
            &__text {
                height: 50vh;
                max-height: 50vh;
                flex-basis: 50%;
            }
            &__image {
                height: 50vh;
                max-height: 50vh;
                flex-basis: 50%;
            }
        }
        &__text {
            @extend %flex,
                %flex--column,
                %flex--align-flex-start;
            @include padding(6, 4);
            overflow-y: auto;

            .page-item__section {
                max-width: 100%;
                @include margin-bottom(1);

                .page-item__description {
                    @include margin-y(3);
                }
            }
            iframe {
                width: 100%;
                height: 33vh;
            }
        }

        &__image {
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center;
        }

        &--active {
            opacity: 1;
            transform: translateY(0);

            #{$self}__button {
                display: none;
            }
            #{$self}__details {
                display: block;
            }

            .close-button {
                @include margin-top(5);
            }
        }
    }
}